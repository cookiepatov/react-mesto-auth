{"version":3,"sources":["utils/constants.js","utils/api.js","utils/auth.js","contexts/CurrentUserContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","utils/validator.js","components/Login.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/Register.js","images/check.svg","images/cross.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["validationSettings","inputClass","inputErrorClass","errorClass","errorClassVisible","authValidation","api","options","this","_baseUrl","baseUrl","_token","headers","authorization","_contentType","res","ok","json","Promise","reject","status","fetch","then","_resultHandler","name","about","method","body","JSON","stringify","avatar","link","id","setLiked","likeCard","dislikeCard","auth","email","password","console","log","jwt","CurrentUserContext","createContext","withRouter","props","currentLocation","login","signOut","useState","userInfoOpened","setUserInfoOpened","headerClass","setHeaderClass","burgerClass","rightBlockClass","type","handleBurgerClick","className","to","onClick","getLink","headerContentClass","src","logo","alt","Card","card","onCardClick","onDeleteClick","onCardLike","likeIsLoading","setLikeIsLoading","currentUserId","useContext","_id","likes","owner","currentOwnerId","isOwn","isLiked","some","like","deleteBtnClassName","likeBtnLoadingClassName","likeBtnClassName","useEffect","style","backgroundImage","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","onCardDelete","map","item","Footer","year","Date","getFullYear","useFormAndValidation","authMode","values","setValues","errors","setErrors","isValid","setIsValid","inputsClasses","setInputsClasses","errorsClasses","setErrorsClasses","handleChange","target","value","newInputClass","validity","valid","newErrorClass","validationMessage","closest","checkValidity","resetForm","useCallback","newValues","newErrors","newInputClasses","newErrrorClasses","newIsValid","Login","loggedIn","onLogin","onSubmit","e","preventDefault","required","minLength","maxLength","placeholder","onChange","disabled","PopupWithForm","title","children","isOpen","onClose","formValidity","buttonText","popupClassname","EditProfilePopup","onUpdateUser","isLoading","currentUser","setButtonText","interval","useRef","dots","i","current","setInterval","clearInterval","description","ImagePopup","selectedCard","popupClass","EditAvatarPopup","onUpdateAvatar","data","AddPlacePopup","DeleteCardPopup","onDeleteCard","onRegister","InfoTooltip","accepted","text","picSrc","check","cross","ProtectedRoute","Component","component","history","useHistory","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","isImagePopupOpen","setImagePopupOpen","isTooltipOpen","setTooltipOpen","setSelectedCard","setCurrentUser","setCards","cardToDelete","setCardToDelete","popupDataIsLoading","setPopupDataIsLoading","setLoggedIn","tooltipAcceptedStatus","setTooltipAcceptedStatus","userEmail","setUserEmail","openToolTip","state","setEventListeners","closeAllPopups","document","removeEventListener","closeOnEsc","closeOnOverlay","addEventListener","all","getUserInfo","getInitialCards","user","localStorage","getItem","checkToken","push","catch","key","classList","contains","Provider","useLocation","pathname","removeItem","exact","path","authorize","token","setItem","register","changeLikeCardStatus","newCard","currentCard","setUserInfo","finally","addNewCard","setUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3c9c4131.chunk.js","sourcesContent":["const validationSettings = {\r\n  inputClass: 'popup__input',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error',\r\n  errorClassVisible: 'popup__error_visible'\r\n};\r\n\r\nconst authValidation = {\r\n  inputClass: 'auth-form__input',\r\n  inputErrorClass: 'auth-form__input_type_error',\r\n  errorClass: 'auth-form__error',\r\n  errorClassVisible: 'auth-form__error_visible'\r\n}\r\n\r\nconst apiData = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-22',\r\n  headers: {\r\n    authorization: '175f949a-57a4-4e41-845e-76eb0a4e61c1',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nconst authData = {\r\n  baseUrl: 'https://auth.nomoreparties.co',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nexport {\r\n  validationSettings,\r\n  authValidation,\r\n  apiData,\r\n  authData\r\n};\r\n","import {apiData} from './constants';\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._token = options.headers.authorization;\r\n    this._contentType = options.headers['Content-Type'];\r\n  }\r\n\r\n  _resultHandler(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n\r\n  getInitialCards() {\r\n    return fetch(this._baseUrl + '/cards', {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => this._resultHandler(res));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._baseUrl + '/users/me', {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => this._resultHandler(res));\r\n\r\n  }\r\n\r\n  setUserInfo(name, about) {\r\n    return fetch(this._baseUrl + '/users/me', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    }).then(res => this._resultHandler(res));\r\n  }\r\n\r\n  setUserAvatar(avatar) {\r\n    return fetch(this._baseUrl + '/users/me/avatar', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        avatar\r\n      })\r\n    }).then(res => this._resultHandler(res));\r\n\r\n  }\r\n\r\n  addNewCard(name, link) {\r\n    return fetch(this._baseUrl + '/cards', {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      })\r\n    }).then(res => this._resultHandler(res));\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(this._baseUrl + '/cards/' + id, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => this._resultHandler(res));\r\n  }\r\n\r\n  changeLikeCardStatus(id, setLiked) {\r\n    if(setLiked) {\r\n      return this.likeCard(id);\r\n    }\r\n    return this.dislikeCard(id);\r\n  }\r\n\r\n  likeCard(id) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + id, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => this._resultHandler(res));\r\n  }\r\n\r\n  dislikeCard(id) {\r\n    return fetch(this._baseUrl + '/cards/likes/' + id, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => this._resultHandler(res));\r\n  }\r\n}\r\n\r\nexport const api = new Api(apiData);\r\n","import {authData} from './constants';\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._contentType = options.headers['Content-Type'];\r\n  }\r\n\r\n  _resultHandler(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n\r\n  authorize({email, password}) {\r\n    console.log('/signin')\r\n    return fetch(this._baseUrl + '/signin', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({password, email})\r\n    })\r\n      .then(res => this._resultHandler(res));\r\n  }\r\n  register({email, password}) {\r\n    console.log('/signup')\r\n    return fetch(this._baseUrl + '/signup', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': this._contentType\r\n      },\r\n      body: JSON.stringify({password, email})\r\n    })\r\n      .then(res => this._resultHandler(res));\r\n  }\r\n  checkToken({jwt}) {\r\n    return fetch(this._baseUrl + '/users/me', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': this._contentType,\r\n        'Authorization': `Bearer ${jwt}`\r\n      }\r\n    })\r\n      .then(res => this._resultHandler(res));\r\n  }\r\n}\r\n\r\nexport const auth = new Api(authData);\r\n","import {createContext} from 'react'\r\n\r\nexport const CurrentUserContext = createContext({});\r\n\r\n","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import { React, useState } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport logo from '../images/logo.svg'\r\n\r\nfunction Header(props) {\r\n  const { currentLocation, login, signOut } = props;\r\n  const [userInfoOpened, setUserInfoOpened] = useState(false);\r\n  const [headerClass, setHeaderClass] = useState('header')\r\n  const { burgerClass, rightBlockClass } = userInfoOpened ?\r\n    {\r\n      burgerClass: 'header__humburger-button header__humburger-button_type_cross',\r\n      rightBlockClass: 'header__right-block header__right-block_visible'\r\n    }\r\n    :\r\n    {\r\n      burgerClass: 'header__humburger-button',\r\n      rightBlockClass: 'header__right-block'\r\n    };\r\n  const link = getLink(currentLocation, login, burgerClass, rightBlockClass, handleBurgerClick, signOut);\r\n  const headerContentClass = (currentLocation === '/') ? 'header__content' : 'header__content header__content_simple';\r\n  function handleBurgerClick() {\r\n    setUserInfoOpened(!userInfoOpened);\r\n    if (headerClass === 'header') {\r\n      setHeaderClass('header header_lowered')\r\n    } else {\r\n      setHeaderClass('header')\r\n    }\r\n\r\n  }\r\n  return (\r\n    <header className='header'>\r\n      <div className={headerContentClass}>\r\n        <img src={logo} className=\"logo\" alt=\"Mesto Russia\" />\r\n      </div>\r\n      {link}\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction getLink(type, login, burgerClass, rightBlockClass, handleBurgerClick, signOut) {\r\n  switch (type) {\r\n    case '/sign-in': {\r\n      return (\r\n        <Link className='header__link' to={'/sign-up'}>\r\n          Регистрация\r\n        </Link>)\r\n    }\r\n    case '/': {\r\n      return (<>\r\n        <button className={burgerClass} onClick={handleBurgerClick}></button>\r\n        <div className={rightBlockClass}>\r\n          <p className=\"header__email\">{login}</p>\r\n          <Link className='header__link header__link_faded' to={'/sign-in'} onClick={signOut}>\r\n            Выйти\r\n          </Link>\r\n        </div>\r\n      </>\r\n      )\r\n    }\r\n    default: {\r\n      return (\r\n        <Link className='header__link' to={'/sign-in'}>\r\n          Войти\r\n        </Link>\r\n      )\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(Header);\r\n","import {React, useContext, useState, useEffect} from 'react';\r\n\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const {\r\n    card,\r\n    onCardClick,\r\n    onDeleteClick,\r\n    onCardLike} = props;\r\n\r\n  const [likeIsLoading, setLikeIsLoading] = useState(false);\r\n  const {_id: currentUserId} = useContext(CurrentUserContext);\r\n\r\n  const {likes, owner, name, link} = card;\r\n  const currentOwnerId = owner._id;\r\n  const isOwn = currentUserId === currentOwnerId;\r\n  const isLiked = likes.some(like => like._id === currentUserId);\r\n\r\n  const deleteBtnClassName = isOwn ? 'element__delete-button' : 'element__delete-button element__delete-button_hidden';\r\n  const likeBtnLikedClassName = isLiked ? 'element__like-button element__like-button_active' : '';\r\n  const likeBtnLoadingClassName = likeIsLoading ? 'element__like-button_loading' : ''\r\n  const likeBtnClassName = `element__like-button ${likeBtnLikedClassName} ${likeBtnLoadingClassName}`\r\n\r\n  useEffect(() => {\r\n    setLikeIsLoading(false);\r\n  },[likes])\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n  function handleDelete() {\r\n    onDeleteClick(card);\r\n  }\r\n  function handleLikeClick () {\r\n    onCardLike(card);\r\n    setLikeIsLoading(true);\r\n  }\r\n\r\n  return (\r\n    <figure className=\"element\">\r\n      <button className=\"element__picture-button\" style={{backgroundImage: `url(${link})`}} onClick={handleClick}/>\r\n      <button type=\"button\" className={deleteBtnClassName}  onClick={handleDelete}></button>\r\n      <figcaption className=\"element__caption\">\r\n        <h2 className=\"element__text\">{name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button type=\"button\" className={likeBtnClassName} onClick={handleLikeClick}></button>\r\n          <p className=\"element__like-counter\">{likes.length}</p>\r\n        </div>\r\n      </figcaption>\r\n    </figure>)\r\n}\r\n\r\nexport default Card;\r\n","import {React, useContext} from 'react';\r\n\r\nimport Card from './Card';\r\n\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const {onEditProfile,\r\n    onAddPlace,\r\n    onEditAvatar,\r\n    onCardClick,\r\n    cards,\r\n    onCardLike,\r\n    onCardDelete} = props;\r\n  const {name, about, avatar} = useContext(CurrentUserContext)\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__avatar-button\" onClick={onEditAvatar} style={{ backgroundImage: `url(${avatar})` }} />\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{name}</h1>\r\n          <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\r\n          <p className=\"profile__description\">{about}</p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {cards.map(item => (\r\n        <Card\r\n          card={item}\r\n          key={item._id}\r\n          onCardClick={onCardClick}\r\n          onDeleteClick={onCardDelete}\r\n          onCardLike={onCardLike}/>))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import {React} from 'react';\r\n\r\nfunction Footer() {\r\n  const year = new Date().getFullYear();\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"copyright\">\r\n        &copy; {year} Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import {useState, useCallback} from 'react';\r\nimport {validationSettings, authValidation} from './constants';\r\n\r\nexport function useFormAndValidation(authMode = false) {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(true);\r\n  const [inputsClasses, setInputsClasses] = useState({});\r\n  const [errorsClasses, setErrorsClasses] = useState({});\r\n\r\n  const handleChange = ({target}) => {\r\n    const {inputClass, inputErrorClass, errorClass, errorClassVisible} = authMode ? authValidation :  validationSettings;\r\n    const {name, value} = target;\r\n    const newInputClass = target.validity.valid ? inputClass : `${inputClass} ${inputErrorClass}`;\r\n    const newErrorClass = target.validity.valid ? errorClass: `${errorClass} ${errorClassVisible}`;\r\n    setValues({...values, [name]: value });\r\n    setErrors({...errors, [name]: target.validationMessage});\r\n    setInputsClasses({...inputsClasses, [name]: newInputClass});\r\n    setErrorsClasses({...errorsClasses, [name]: newErrorClass});\r\n    setIsValid(target.closest('form').checkValidity());\r\n  };\r\n\r\n\r\n\r\n  const resetForm = useCallback((newValues = {}, newErrors = {}, newInputClasses = {}, newErrrorClasses = {}, newIsValid = false) => {\r\n    setValues(newValues);\r\n    setErrors(newErrors);\r\n    setIsValid(newIsValid);\r\n    setInputsClasses(newInputClasses);\r\n    setErrorsClasses(newErrrorClasses)\r\n  }, [setValues, setErrors, setIsValid]);\r\n\r\n  return {values, handleChange, errors, inputsClasses, errorsClasses, isValid, resetForm, setValues, setIsValid};\r\n}\r\n","import { React, useEffect } from 'react';\r\nimport { useFormAndValidation } from '../utils/validator';\r\nimport { authValidation } from '../utils/constants';\r\n\r\nfunction Login(props) {\r\n  const { loggedIn, onLogin } = props;\r\n  const { inputClass, errorClass } = authValidation;\r\n  const { values,\r\n    handleChange,\r\n    errors,\r\n    inputsClasses,\r\n    errorsClasses,\r\n    isValid,\r\n    resetForm } = useFormAndValidation(true);\r\n\r\n  useEffect(() => {\r\n    resetForm(\r\n      { email: '', password: '' },\r\n      { email: '', password: '' },\r\n      { email: inputClass, password: inputClass },\r\n      { email: errorClass, password: errorClass });\r\n  }, [loggedIn]);\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onLogin(values);\r\n\r\n  }\r\n\r\n  return (\r\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n      <h2 className=\"auth-form__header\">\r\n        Вход\r\n        </h2>\r\n      <fieldset className=\"auth-form__inputs\">\r\n        <input\r\n          className={inputsClasses.email}\r\n          id=\"login-email-input\"\r\n          type=\"email\"\r\n          required\r\n          name=\"email\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Email\"\r\n          value={values.email}\r\n          onChange={handleChange}>\r\n        </input>\r\n        <span className={errorsClasses.email}>{errors.email}</span>\r\n        <input\r\n          className={inputsClasses.password}\r\n          id=\"login-password-input\"\r\n          type=\"password\"\r\n          required\r\n          name=\"password\"\r\n          minLength=\"7\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Пароль\"\r\n          value={values.password}\r\n          onChange={handleChange}>\r\n        </input>\r\n        <span className={errorsClasses.password}>{errors.password}</span>\r\n      </fieldset>\r\n      <button className=\"auth-form__button\" type=\"submit\" disabled={!isValid}>Войти</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  const {name, title, children, isOpen, onClose, onSubmit, formValidity, buttonText} = props;\r\n  const popupClassname = isOpen ? `popup popup_type_${name} popup_opened` : `popup popup_type_${name}`\r\n\r\n  return (\r\n    <section className={popupClassname}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\r\n        <h2 className=\"popup__title\">\r\n          {title}\r\n        </h2>\r\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\r\n          {children}\r\n        <button\r\n          type=\"submit\"\r\n          className=\"popup__button\"\r\n          disabled={!formValidity}>{buttonText}</button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import {React, useState, useEffect, useContext, useRef} from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nimport {useFormAndValidation} from '../utils/validator';\r\nimport {validationSettings} from '../utils/constants';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const {isOpen, onClose, onUpdateUser, isLoading} = props\r\n  const {inputClass, errorClass} = validationSettings;\r\n  const {values,\r\n    handleChange,\r\n    errors,\r\n    inputsClasses,\r\n    errorsClasses,\r\n    isValid,\r\n    resetForm} = useFormAndValidation();\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [buttonText, setButtonText] = useState('Сохранить');\r\n  const interval = useRef();\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Сохранение${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },500)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Сохранить`);\r\n    }\r\n  },[isLoading])\r\n\r\n  useEffect(() => {\r\n    resetForm(\r\n      {name: currentUser.name, description: currentUser.about},\r\n      {name: '', description: ''},\r\n      {name:inputClass, description:inputClass},\r\n      {name:errorClass, description:errorClass},\r\n      true);\r\n  }, [isOpen]);\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const {name, description: about} = values;\r\n    onUpdateUser({name, about});\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'profile'}\r\n      title={'Редактировать профиль'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={buttonText}\r\n      formValidity={isValid}>\r\n      <input\r\n        id=\"profile-name-input\"\r\n        name=\"name\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        className={inputsClasses.name}\r\n        placeholder=\"Ваше имя\"\r\n        value={values.name}\r\n        onChange={handleChange} />\r\n      <span className={errorsClasses.name}>{errors.name}</span>\r\n      <input\r\n        id=\"profile-description-input\"\r\n        name=\"description\"\r\n        required minLength=\"2\"\r\n        maxLength=\"200\"\r\n        className={inputsClasses.description}\r\n        placeholder=\"Описание\"\r\n        value={values.description}\r\n        onChange={handleChange} />\r\n      <span className={errorsClasses.description}>{errors.description}</span>\r\n    </PopupWithForm>)\r\n}\r\n\r\nexport default EditProfilePopup\r\n","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n  const {isOpen, onClose, selectedCard} = props;\r\n  const src = selectedCard ? selectedCard.link : '#';\r\n  const title = selectedCard ? selectedCard.name : '';\r\n  const popupClass = isOpen ? 'popup popup_opened popup_type_full-view' : 'popup popup_type_full-view'\r\n  return (\r\n    <section className={popupClass}>\r\n      <figure className=\"popup__picture-container\">\r\n        <div className=\"popup__picture-elements\">\r\n          <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\r\n          <img className=\"popup__full-picture\"\r\n            alt=\"Полноэкранный просмотр\"\r\n            src={src} />\r\n          <h2 className=\"popup__picture-title\">{title}</h2>\r\n        </div>\r\n      </figure>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import {React, useEffect, useRef, useState} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {useFormAndValidation} from '../utils/validator'\r\nimport {validationSettings} from '../utils/constants';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const {isOpen, onClose, onUpdateAvatar, isLoading} = props;\r\n  const {inputClass, errorClass} = validationSettings;\r\n  const {values,\r\n    handleChange,\r\n    errors,\r\n    inputsClasses,\r\n    errorsClasses,\r\n    isValid,\r\n    resetForm} = useFormAndValidation();\r\n  const [buttonText, setButtonText] = useState('Сохранить');\r\n  const interval = useRef();\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Сохранение${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },500)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Сохранить`);\r\n    }\r\n  },[isLoading])\r\n\r\n  useEffect(() => {\r\n    resetForm(\r\n      {data: ''},\r\n      {data: ''},\r\n      {data: inputClass},\r\n      {data: errorClass},\r\n      false);\r\n  }, [isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(values.data);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'avatar'}\r\n      title={'Обновить аватар'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={buttonText}\r\n      formValidity={isValid}>\r\n      <input\r\n        id=\"avatar-link-input\"\r\n        name=\"data\"\r\n        required\r\n        type=\"url\"\r\n        className={inputsClasses.data}\r\n        placeholder=\"Ссылка на аватар\"\r\n        value={values.data}\r\n        onChange={handleChange} />\r\n      <span className={errorsClasses.data}>{errors.data}</span>\r\n    </PopupWithForm>\r\n\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import {React, useState, useEffect, useRef} from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {useFormAndValidation} from '../utils/validator';\nimport {validationSettings} from '../utils/constants';\n\nfunction AddPlacePopup(props) {\n  const {isOpen, onClose, onAddPlace, isLoading} = props;\n  const {inputClass, errorClass} = validationSettings;\n  const {values,\n    handleChange,\n    errors,\n    inputsClasses,\n    errorsClasses,\n    isValid,\n    resetForm} = useFormAndValidation();\n  const [buttonText, setButtonText] = useState('Сохранить');\n  const interval = useRef();\n\n  useEffect(() => {\n    if (isLoading) {\n      const dots = ['.','..','...'];\n      let i = 0\n      interval.current = setInterval(()=>{\n        setButtonText(`Сохранение${dots[i]}`);\n        i = (i === 2) ? 0 : i + 1;\n      },500)\n    } else {\n      clearInterval(interval.current)\n      setButtonText(`Сохранить`);\n    }\n  },[isLoading])\n\n  useEffect(() => {\n    resetForm(\n      {name: '', data: ''},\n      {name: '', data: ''},\n      {name:inputClass, data:inputClass},\n      {name:errorClass, data:errorClass});\n  }, [isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const {name, data: link} = values;\n    onAddPlace({name, link});\n  }\n\n  return (\n    <PopupWithForm\n      name={'card'}\n      title={'Новое место'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonText={buttonText}\n      formValidity={isValid}>\n      <input\n        id=\"place-name-input\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n        className={inputsClasses.name}\n        placeholder=\"Название\"\n        onChange={handleChange}\n        value={values.name} />\n      <span className={errorsClasses.name}>{errors.name}</span>\n      <input\n        id=\"place-link-input\"\n        name=\"data\"\n        required\n        type=\"url\"\n        className={inputsClasses.data}\n        placeholder=\"Ссылка на картинку\"\n        onChange={handleChange}\n        value={values.data}/>\n      <span className={errorsClasses.data}>{errors.data}</span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import {React, useState, useEffect, useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup(props) {\r\n  const {isOpen, onClose, selectedCard, onDeleteCard, isLoading} = props;\r\n  const [buttonText, setButtonText] = useState('Да');\r\n  const interval = useRef();\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      const dots = ['.','..','...'];\r\n      let i = 0\r\n      interval.current = setInterval(()=>{\r\n        setButtonText(`Удаление${dots[i]}`);\r\n        i = (i === 2) ? 0 : i + 1;\r\n      },500)\r\n    } else {\r\n      clearInterval(interval.current)\r\n      setButtonText(`Да`);\r\n    }\r\n  },[isLoading])\r\n\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard(selectedCard);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'remove-card'}\r\n      title={'Вы уверены?'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText={buttonText}\r\n      formValidity={true}>\r\n  </PopupWithForm>\r\n\r\n  )\r\n}\r\n\r\n\r\nexport default DeleteCardPopup;\r\n","import {React, useEffect} from 'react';\r\nimport {useFormAndValidation} from '../utils/validator';\r\nimport {authValidation} from '../utils/constants';\r\nimport {Link, withRouter} from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n  const { loggedIn, onRegister } = props;\r\n  const { inputClass, errorClass } = authValidation;\r\n  const { values,\r\n    handleChange,\r\n    errors,\r\n    inputsClasses,\r\n    errorsClasses,\r\n    isValid,\r\n    resetForm } = useFormAndValidation(true);\r\n\r\n  useEffect(() => {\r\n    resetForm(\r\n      { email: '', password: '' },\r\n      { email: '', password: '' },\r\n      { email: inputClass, password: inputClass },\r\n      { email: errorClass, password: errorClass });\r\n  }, [loggedIn]);\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onRegister(values);\r\n\r\n  }\r\n\r\n  return (\r\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n      <h2 className=\"auth-form__header\">\r\n        Регистрация\r\n        </h2>\r\n      <fieldset className=\"auth-form__inputs\">\r\n        <input\r\n          className={inputsClasses.email}\r\n          id=\"register-email-input\"\r\n          type=\"email\"\r\n          required\r\n          name=\"email\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Email\"\r\n          value={values.email}\r\n          onChange={handleChange}>\r\n        </input>\r\n        <span className={errorsClasses.email}>{errors.email}</span>\r\n        <input\r\n          className={inputsClasses.password}\r\n          id=\"register-password-input\"\r\n          type=\"password\"\r\n          required\r\n          name=\"password\"\r\n          minLength=\"7\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Пароль\"\r\n          value={values.password}\r\n          onChange={handleChange}>\r\n        </input>\r\n        <span className={errorsClasses.password}>{errors.password}</span>\r\n      </fieldset>\r\n      <button className=\"auth-form__button\" type=\"submit\" disabled={!isValid}>Зарегистрироваться</button>\r\n      <p className=\"auth-form__bottom-message\">Уже зарегистрированы? <Link className=\"auth__link\" to=\"/sign-in\"> Войти </Link></p>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","export default __webpack_public_path__ + \"static/media/check.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/cross.d4ce2a26.svg\";","import React from 'react';\r\n\r\nimport check from '../images/check.svg';\r\nimport cross from '../images/cross.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n  const {isOpen, onClose, accepted} = props;\r\n  const popupClassname = isOpen ? `popup popup_type_tooltip popup_opened` : `popup popup_type_tooltip`\r\n  const { text, picSrc } = accepted ?\r\n  {\r\n    text: \"Вы успешно зарегистрировались!\",\r\n    picSrc: check\r\n  }\r\n    :\r\n  {\r\n    text: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n    picSrc: cross\r\n  }\r\n  return (\r\n    <section className={popupClassname}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close-button popup__close-button_type_info\" onClick={onClose}></button>\r\n          <img className=\"popup__info-img\" alt=\"Информационное изображение\" src={picSrc} />\r\n          <p className=\"popup__info-text\">\r\n            {text}\r\n          </p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { React, useEffect, useState, useCallback } from 'react';\r\n\r\nimport { api } from '../utils/api';\r\nimport { auth } from '../utils/auth'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nimport Header from './Header';\r\nimport Main from './Main'\r\nimport Footer from './Footer';\r\nimport Login from './Login';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeleteCardPopup from './DeleteCardPopup';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport {Switch, useHistory, useLocation, Route, withRouter } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\r\n  const [isTooltipOpen, setTooltipOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [cardToDelete, setCardToDelete] = useState({});\r\n  const [popupDataIsLoading, setPopupDataIsLoading] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [tooltipAcceptedStatus, setTooltipAcceptedStatus] = useState(false);\r\n  const [userEmail, setUserEmail] = useState('');\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\r\n      .then(([user, cards]) => {\r\n        checkToken();\r\n        setCurrentUser(user);\r\n        setCards(cards);\r\n      }).catch(console.log);\r\n  }, [])\r\n\r\n\r\n\r\n  function handleEditAvatarClick() {\r\n    setEventListeners();\r\n    setEditAvatarPopupOpen(true);\r\n\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEventListeners();\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setEventListeners();\r\n    setAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function handleDeleteCardClick(card) {\r\n    setEventListeners();\r\n    setDeleteCardPopupOpen(true);\r\n    setCardToDelete(card);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setEventListeners();\r\n    setImagePopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function openToolTip(state) {\r\n    setTooltipOpen(true);\r\n    setTooltipAcceptedStatus(state);\r\n    setEventListeners();\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    removeEventListeners();\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setDeleteCardPopupOpen(false)\r\n    setImagePopupOpen(false);\r\n    setTooltipOpen(false);\r\n    setSelectedCard({});\r\n    setCardToDelete({});\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    setPopupDataIsLoading(true);\r\n    api.setUserInfo(name, about)\r\n      .then(user => {\r\n        setCurrentUser(user);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setPopupDataIsLoading(false)\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(link) {\r\n    setPopupDataIsLoading(true);\r\n    api.setUserAvatar(link)\r\n      .then(user => {\r\n        setCurrentUser(user);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setPopupDataIsLoading(false)\r\n      });\r\n  }\r\n\r\n\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards(cards => cards\r\n        .map(currentCard => currentCard._id === card._id ? newCard : currentCard));\r\n      closeAllPopups();\r\n    }).catch(console.log);\r\n  }\r\n\r\n  function handleConfirmDelete(card) {\r\n    setPopupDataIsLoading(true);\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(cards => cards\r\n          .filter(currentCard => currentCard._id !== card._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setPopupDataIsLoading(false)\r\n      });\r\n  }\r\n\r\n\r\n\r\n  function handleAddCard({ name, link }) {\r\n    setPopupDataIsLoading(true);\r\n    api.addNewCard(name, link)\r\n      .then(newCard => {\r\n        setCards(cards => [newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => {\r\n        setPopupDataIsLoading(false);\r\n      });\r\n  }\r\n\r\n  function handleSignIn({ email, password }) {\r\n    auth.authorize({ email, password }).then(res => {\r\n      setLoggedIn(true);\r\n      setUserEmail(email);\r\n      console.log(res);\r\n      saveToken(res.token);\r\n      history.push('/');\r\n    }).catch(() => {\r\n      openToolTip(false);\r\n    })\r\n  }\r\n\r\n  function handleSignUp({ email, password }) {\r\n    auth.register({ email, password }).then(res => {\r\n      openToolTip(true);\r\n      history.push('/sign-in');\r\n    }).catch(() => {\r\n      openToolTip(false);\r\n    })\r\n  }\r\n\r\n  function handleSignOut() {\r\n    removeToken();\r\n  }\r\n\r\n  function saveToken(jwt) {\r\n    localStorage.setItem('jwt',jwt);\r\n  }\r\n\r\n\r\n  function checkToken() {\r\n    const jwt = localStorage.getItem('jwt')\r\n    if(jwt) {\r\n      auth.checkToken({jwt}).then((res) => {\r\n        setUserEmail(res.data.email);\r\n        setLoggedIn(true);\r\n        history.push('/')\r\n      })\r\n    }\r\n  }\r\n\r\n  function removeToken() {\r\n    localStorage.removeItem('jwt');\r\n  }\r\n\r\n\r\n\r\n\r\n  function setEventListeners() {\r\n    document.addEventListener('keydown', closeOnEsc);\r\n    document.addEventListener('pointerdown', closeOnOverlay);\r\n  }\r\n\r\n  function removeEventListeners() {\r\n    document.removeEventListener('keydown', closeOnEsc);\r\n    document.removeEventListener('pointerdown', closeOnOverlay);\r\n  }\r\n\r\n\r\n  const closeOnEsc = useCallback((e) => {\r\n    if (e.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }, []);\r\n\r\n  const closeOnOverlay = useCallback((e) => {\r\n    if (e.target.classList.contains('popup')) {\r\n      closeAllPopups();\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"page\">\r\n          <Header\r\n            currentLocation={useLocation().pathname}\r\n            login={userEmail}\r\n            signOut={handleSignOut} />\r\n          <Switch>\r\n            <Route\r\n              exact\r\n              path=\"/sign-in\">\r\n              <Login loggedIn={loggedIn} onLogin={handleSignIn} />\r\n            </Route>\r\n            <Route\r\n              exact\r\n              path=\"/sign-up\">\r\n              <Register loggedIn={loggedIn} onRegister={handleSignUp} />\r\n            </Route>\r\n          <ProtectedRoute\r\n              exact\r\n              path=\"/\"\r\n              loggedIn={loggedIn}\r\n              component={Main}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardClick={handleCardClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleDeleteCardClick} />\r\n          </Switch>\r\n          {loggedIn && <Footer />}\r\n          <InfoTooltip\r\n            onClose={closeAllPopups}\r\n            isOpen={isTooltipOpen}\r\n            accepted={tooltipAcceptedStatus} />\r\n          <EditProfilePopup\r\n            onUpdateUser={handleUpdateUser}\r\n            onClose={closeAllPopups}\r\n            isOpen={isEditProfilePopupOpen}\r\n            isLoading={popupDataIsLoading} />\r\n          <AddPlacePopup\r\n            onAddPlace={handleAddCard}\r\n            onClose={closeAllPopups}\r\n            isOpen={isAddPlacePopupOpen}\r\n            isLoading={popupDataIsLoading} />\r\n          <EditAvatarPopup\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            onClose={closeAllPopups}\r\n            isOpen={isEditAvatarPopupOpen}\r\n            isLoading={popupDataIsLoading} />\r\n          <DeleteCardPopup\r\n            onDeleteCard={handleConfirmDelete}\r\n            onClose={closeAllPopups}\r\n            isOpen={isDeleteCardPopupOpen}\r\n            selectedCard={cardToDelete}\r\n            isLoading={popupDataIsLoading} />\r\n          <ImagePopup\r\n            isOpen={isImagePopupOpen}\r\n            onClose={closeAllPopups}\r\n            selectedCard={selectedCard} />\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}